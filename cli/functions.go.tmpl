// /!\ DO NOT EDIT THIS FILE /!\
//
// This file is automatically generated, do not edit by hand.
// You can edit the source file at {{ .SrcFile }} and then run `go generate ./...`
// to update this file with the changes. 
//
// Generated on {{ now | date "Mon Jan _2 2006, 15:04:05" }}
package {{.Name}}

import (
{{- range .Imports}}
  "{{.}}"
{{- end}}
)

{{ range $function := .Functions }}
{{ if $function.Documentation -}}
{{ $function.Documentation | join "\n" }}
{{ end -}}
func {{if $function.Receiver.Name -}} ({{ $function.Receiver.Name }} {{ $function.Receiver.Type }}) {{ end -}}
Must{{ $function.Name }}({{- $function.Parameters | toString -}}) ({{- $function.Results | toString -}}) {{ $function.Body }}

// Safe{{ $function.Name }} is a wrapper around [Must{{ $function.Name }}] that
// returns the default value when an error is returned by the function and 
// prevents the template from stopping execution. 
func {{if $function.Receiver.Name -}} ({{ $function.Receiver.Name }} {{ $function.Receiver.Type }}) {{ end -}}
Safe{{ $function.Name }}({{- $function.Parameters | toString -}}) ({{- $function.Results | first | toString -}}) {
  var result {{ $function.Results | first | toString }}
  {{ if $function.Results | len }}
  result, _ = {{if $function.Receiver.Name -}}{{ $function.Receiver.Name }}.{{end}}Must{{ $function.Name }}(
    {{-  range $i, $param := $function.Parameters -}}{{.Name}}{{ if lt ($i | add1) (len $function.Parameters) }}, {{ end }} {{- end -}}
  )
  {{ else }}
  _ = {{ $function.Name }}({{ $function.Parameters | toString }})
  {{- end -}}
  return result
}
{{ end -}}
